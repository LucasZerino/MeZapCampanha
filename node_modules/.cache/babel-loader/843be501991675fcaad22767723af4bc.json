{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Lucas/Desktop/LoginAPI/mezap/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Lucas/Desktop/LoginAPI/mezap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Lucas/Desktop/LoginAPI/mezap/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState,useEffect}from'react';import{sendToken}from'../Config/Api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TokenCadastro=function TokenCadastro(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),descricao=_useState2[0],setDescricao=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),idToken=_useState8[0],setIdToken=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),resposta=_useState10[0],setResposta=_useState10[1];var idEmpresa=idToken===null||idToken===void 0?void 0:idToken.idEmpresa;function uuid(){function randomDigit(){if(crypto&&crypto.getRandomValues){var rands=new Uint8Array(1);crypto.getRandomValues(rands);return(rands[0]%16).toString(16);}else{return(Math.random()*16|0).toString(16);}}var crypto=window.crypto||window.msCrypto;var ret='MeZaprxxxxxxxxx4xxx8xxxxxxx'.replace(/x/g,randomDigit);setToken(ret);}useEffect(function(){var recoveredUser=localStorage.getItem('user');if(recoveredUser){setIdToken(JSON.parse(recoveredUser));}setLoading(false);uuid();},[]);console.log(\"dados token cadastro: \",token,descricao,idToken,idEmpresa);var enviarToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(descricao!='')){_context.next=9;break;}_context.next=3;return axios.get(sendToken(idEmpresa,token,descricao));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setResposta(data);setDescricao(\"\");_context.next=10;break;case 9:return _context.abrupt(\"return\",/*#__PURE__*/_jsx(\"h1\",{children:\"PREENCHA A DESCRI\\xC7\\xC3O MALDITO!\"}));case 10:case\"end\":return _context.stop();}}},_callee);}));return function enviarToken(){return _ref.apply(this,arguments);};}();console.log(\"resposta token\",resposta);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"token-tit\",children:\"Cadastrar Token\"}),/*#__PURE__*/_jsx(\"label\",{class:\"form-label\",children:\"Token\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"token\",id:\"token\",className:\"form-control\",placeholder:token,value:token,disabled:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{class:\"form-label\",children:\"Descri\\xE7\\xE3o do Plano\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"descricao\",id:\"descricao\",className:\"form-control\",placeholder:\"Digite a descricao do Token\",value:descricao,onChange:function onChange(e){return setDescricao(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"enviarbotao\",children:/*#__PURE__*/_jsx(\"a\",{class:\"btn btn-primary\",onClickCapture:enviarToken,children:\"Cadastrar Token\"})})]});};export default TokenCadastro;","map":{"version":3,"names":["axios","React","useState","useEffect","sendToken","TokenCadastro","descricao","setDescricao","token","setToken","loading","setLoading","idToken","setIdToken","resposta","setResposta","idEmpresa","uuid","randomDigit","crypto","getRandomValues","rands","Uint8Array","toString","Math","random","window","msCrypto","ret","replace","recoveredUser","localStorage","getItem","JSON","parse","console","log","enviarToken","get","data","e","target","value"],"sources":["C:/Users/Lucas/Desktop/LoginAPI/mezap/src/Components/TokenCadastro.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport React, {useState, useEffect} from 'react'\r\nimport { sendToken } from '../Config/Api'\r\n\r\nconst TokenCadastro = () => {\r\n\r\n    const [descricao, setDescricao] = useState('');\r\n    const [token, setToken] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n    const [idToken, setIdToken] = useState('');\r\n    const [resposta, setResposta] = useState([]);\r\n    const idEmpresa = idToken?.idEmpresa;\r\n\r\n    function uuid() {\r\n\r\n        function randomDigit() {\r\n    \r\n            if (crypto && crypto.getRandomValues) {\r\n    \r\n                var rands = new Uint8Array(1);\r\n    \r\n                crypto.getRandomValues(rands);\r\n    \r\n                return (rands[0] % 16).toString(16);\r\n            } else {\r\n                return ((Math.random() * 16) | 0).toString(16);\r\n            }\r\n        }\r\n        var crypto = window.crypto || window.msCrypto;\r\n    \r\n        var ret = 'MeZaprxxxxxxxxx4xxx8xxxxxxx'.replace(/x/g, randomDigit);\r\n        setToken(ret);\r\n    }\r\n\r\n    useEffect(() => {\r\n        const recoveredUser = localStorage.getItem('user');\r\n\r\n        if(recoveredUser){\r\n            setIdToken(JSON.parse(recoveredUser));\r\n        }\r\n        setLoading(false);\r\n        uuid();\r\n\r\n    },[]);\r\n\r\n    console.log(\"dados token cadastro: \",token, descricao, idToken, idEmpresa);\r\n\r\n    \r\n    const enviarToken = async () => {\r\n        if(descricao!= ''){\r\n            const { data } = await axios.get(sendToken(idEmpresa, token, descricao, ));\r\n            setResposta(data);\r\n            setDescricao(\"\");\r\n\r\n        }else{\r\n            return <h1>PREENCHA A DESCRIÇÃO MALDITO!</h1>\r\n        }\r\n\r\n    }\r\n\r\n    console.log(\"resposta token\", resposta);\r\n\r\n  return (\r\n    <div>\r\n        <h1 className='token-tit'>Cadastrar Token</h1>\r\n        <label class=\"form-label\">Token</label>\r\n        <input type='text' \r\n        name='token' \r\n        id='token'\r\n        className=\"form-control\"\r\n        placeholder={token}\r\n        value={token}\r\n        disabled\r\n        />\r\n        <br/>\r\n        <label class=\"form-label\">Descrição do Plano</label>\r\n        <input type='text' \r\n        name='descricao' \r\n        id='descricao'\r\n        className=\"form-control\"\r\n        placeholder='Digite a descricao do Token'\r\n        value={descricao}\r\n        onChange={(e)=> setDescricao(e.target.value)}\r\n        />\r\n        <br/>\r\n        <div className='enviarbotao'>\r\n            <a class=\"btn btn-primary\" onClickCapture={enviarToken}>Cadastrar Token</a>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TokenCadastro"],"mappings":"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"},"metadata":{},"sourceType":"module"}